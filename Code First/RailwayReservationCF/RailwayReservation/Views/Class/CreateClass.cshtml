@model IEnumerable<RailwayReservation.Models.Class>

@{
    ViewBag.Title = " | CreateClass";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<script src="~/Scripts/jquery-3.6.0.min.js"></script>
<script src="~/Scripts/jquery.unobtrusive-ajax.js"></script>
<div class="col-md-5 mx-auto">
    <div class="my-5" id="divAjax1">
        @using (Ajax.BeginForm("AjaxCreateClass", "Class", new AjaxOptions
        {
            HttpMethod = "POST",
            UpdateTargetId = "divAjax",
            LoadingElementId = "LoadingImage",
            LoadingElementDuration = 2000,
            Confirm = "Are You Sure to Save this Data?",
            OnComplete = "Clear",
        }
         ))
        {
            @Html.AntiForgeryToken()
            <h2 class="mb-3">Add Class</h2>
            <h6>Page Loding @@ : @DateTime.Now.ToString()</h6>
            <div class="form-group mb-3">
                @Html.Label("Class Name", new { @class = "form-label" })
                @Html.TextBox("ClassName", null, new { @class = "form-control" })

                @Html.Label("Fare", new { @class = "form-label" })
                @Html.TextBox("Fare", null, new { @class = "form-control" })
            </div>
            <div class="form-group">
                <input type="submit" value="Save" class="btn btn-info btnClassSave" />
            </div>
        }
    </div>
    <div class="col-md-12" id="LoadingImage" style="display:none;">
        <img src="~/Images/AppImage/Rhombus.gif" width="100" height="100" />
    </div>
    <div class="my-5" id="divAjax">
        @{Html.RenderPartial("_ClassDetails", Model);}
    </div>

    @*<div class="modal fade" id="PassengerDetailsModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="detailsModalLabel">Passenger Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="partialDivDetails">
                        @if (ViewBag.Details == "Show")
                        {
                            @Html.Partial("_ImageShow", Model)
                            ViewBag.Details = "";
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>*@
</div>
<script>
    function Clear() {
        $(this).closest('form').find("input[type=text], textarea").val("");
    }
    //function EditPassenger(passengerid) {
    //    $.ajax({
    //        url: "/Passenger/Edit?id=" + passengerid,
    //        type: "GET",
    //        data: "",
    //        contentType: 'application/json; charset = utf-8',
    //        success: function (data) {
    //            $('#partialDivEdit').show();
    //            $('#partialDivEdit').html(data);
    //        },
    //        error: function () {
    //            alert("Error occured")
    //        }
    //    });
    //}
</script>

